(function(t){function e(e){for(var a,o,s=e[0],l=e[1],u=e[2],p=0,d=[];p<s.length;p++)o=s[p],r[o]&&d.push(r[o][0]),r[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);c&&c(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,s=1;s<n.length;s++){var l=n[s];0!==r[l]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},r={app:0},i=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var c=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"07bb":function(t,e,n){},"405f":function(t,e,n){},"4d52":function(t,e,n){"use strict";var a=n("81f6"),r=n.n(a);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("el-row",{staticClass:"header-large hidden-xs-only"},[n("el-menu",{staticClass:"header-menu",attrs:{mode:"horizontal","background-color":"#fb5a52","text-color":"#fff","active-text-color":"#000",router:!0,"menu-trigger":"click"}},[n("el-menu-item",{staticClass:"header-title",attrs:{index:"/"}},[t._v("平台")]),n("el-menu-item",{attrs:{index:"/demo"}},[t._v("示例")]),n("el-menu-item",{attrs:{index:"tutorial"}},[t._v("教学")]),n("el-menu-item",{attrs:{index:"application"}},[t._v("应用")]),n("div",{staticClass:"header-split"},[t._v("|")]),n("div",{staticClass:"header-split"},[t._v("|")]),n("div",{staticClass:"header-split"},[t._v("|")]),n("div",{staticClass:"header-split"},[t._v("|")]),n("div",{staticClass:"header-split"},[t._v("|")]),n("el-menu-item",{attrs:{index:"about"}},[t._v("关于")])],1)],1),n("el-row",{staticClass:"header-small hidden-sm-and-up"},[n("router-link",{staticClass:"header-title",attrs:{to:"/",tag:"div"}},[t._v("平台")]),n("el-menu",{staticClass:"header-menu",attrs:{"default-active":"1",mode:"horizontal","background-color":"#fb5a52","text-color":"#fff","active-text-color":"#fff",router:!0,"menu-trigger":"click"}},[n("el-submenu",{staticStyle:{width:"100%"},attrs:{index:"1"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-menu",staticStyle:{color:"#fff"}})]),n("el-menu-item",{attrs:{index:"demo"}},[t._v("示例")]),n("el-menu-item",{attrs:{index:"tutorial"}},[t._v("教学")]),n("el-menu-item",{attrs:{index:"application"}},[t._v("应用")]),n("el-menu-item",{attrs:{index:"about"}},[t._v("关于")])],2)],1)],1),n("router-view")],1)},i=[],o={name:"app",data:function(){return{}},methods:{},mounted:function(){},components:{},watch:{}},s=o,l=(n("4d52"),n("b0a0"),n("2877")),u=Object(l["a"])(s,r,i,!1,null,"0fabe67a",null);u.options.__file="App.vue";var c=u.exports,p=n("8c4f"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[t._m(0),n("div",{staticClass:"large hidden-xs-only"},[n("el-row",{attrs:{type:"flex",justify:"space-around"}},[n("el-col",{attrs:{span:7}},[n("el-card",{staticClass:"card",attrs:{shadow:"always"}},[t._v("\n          示例\n          \n        ")])],1),n("el-col",{attrs:{span:7}},[n("el-card",{staticClass:"card",attrs:{shadow:"always"}},[t._v("教学")])],1),n("el-col",{attrs:{span:7}},[n("el-card",{staticClass:"card",attrs:{shadow:"always"}},[t._v("应用")])],1)],1)],1),n("div",{staticClass:"small hidden-sm-and-up"},[n("el-card",{staticClass:"card",attrs:{shadow:"always"}},[t._v("示例")]),n("el-card",{staticClass:"card",attrs:{shadow:"always"}},[t._v("教学")]),n("el-card",{staticClass:"card",attrs:{shadow:"always"}},[t._v("应用")])],1),t._m(1)])},h=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h2",[t._v("领略人工智能的魅力，\n    "),n("br"),t._v("让技术更好地服务我们。\n  ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"footer"},[n("p",[t._v("©2019 文刀出品")])])}],f={name:"home",components:{}},v=f,y=(n("754a"),Object(l["a"])(v,d,h,!1,null,"587c3a1f",null));y.options.__file="Home.vue";var m=y.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"demo"},[n("p",{staticStyle:{"text-align":"center"}},[t._v("\n    展示游乐场\n    左侧：画布\n    右侧上：模型选择\n    右侧下：模型参数\n    右侧底：训练 按钮\n  ")]),n("div",{attrs:{id:"container"}}),n("div",{staticStyle:{display:"flex","justify-content":"center",margin:"15px 0"}},[n("el-button",{staticStyle:{width:"100px"},attrs:{type:"danger"},nativeOn:{mousedown:function(e){return t.handleRun(e)},touchstart:function(e){return t.handleRun(e)}}},[t._v("运行")])],1),n("div",{staticClass:"btn-wrap"},[n("div",{staticClass:"btn-point"},[n("input",{class:{showBtnBorder:t.statusAdd},attrs:{type:"button",value:"添加一点"},on:{mousedown:function(e){t.statusAdd=!0},touchstart:function(e){t.statusAdd=!0}}}),n("input",{class:{showBtnBorder:!t.statusAdd},attrs:{type:"button",value:"移除某点"},on:{mousedown:function(e){t.statusAdd=!1},touchstart:function(e){t.statusAdd=!1}}}),n("input",{attrs:{type:"button",value:"清空所有"},on:{mousedown:t.handleClearAll,touchstart:t.handleClearAll}}),n("input",{attrs:{type:"button",value:"所有点信息"},on:{mousedown:t.showAllDataInfo,touchstart:t.showAllDataInfo}})]),n("div",{staticClass:"btn-add-del-color-type"},[n("input",{attrs:{type:"button",value:"添加点类型"},on:{mousedown:t.addColorType,tap:t.addColorType}}),n("input",{attrs:{type:"button",value:"删除点类型"},on:{mousedown:t.delColorType,tap:t.delColorType}})]),n("div",{staticClass:"color-type"},t._l(t.colorTypeArr,function(e,a){return n("div",{key:a,style:{backgroundColor:t.colorTypeStore[a],width:"25px",height:"25px",cursor:"pointer",borderWidth:t.showWidthStore[a],borderStyle:"solid",borderColor:t.colorTypeStore[a]},on:{mousedown:function(e){t.changeColorType(a)},touchstart:function(e){t.changeColorType(a)}}})}),0)])])},w=[],b=(n("ac6a"),n("f499")),x=n.n(b),C=n("e814"),_=n.n(C),S=n("faaf"),T=n.n(S),P=n("aabe"),A=n("aabe"),O={Common:R,LogReg:I};function R(){this.Procedure=["inputTrainRaw","inputCS2Mat","inputClean","featureEngineering","featureScaling","modelTrainCV","modelTest( testData )","visulization"]}function I(){}for(var W in R.prototype={inputTrainRaw:function(t){return this.inputTrainRaw=t,this},inputCS2Mat:function(){var t=this.canvas2MLmat(this.inputTrainRaw),e=t.X,n=t.Y;return this.inputX=e,this.inputY=n,this},inputClean:function(){return this},featureEngineering:function(){return this},featureScaling:function(t){return this.scaleType=t,this.inputX=this.scaling(this.inputX,t),this},modelTrainCV:function(){return this},modelTest:function(){return this},visulization:function(){return this},testDataFromCanvas:function(t,e){for(var n=[],a=0;a<t;a++)for(var r=0;r<e;r++)n.push([a,r]);var i=A.matrix(n);return i},extendArr:function(t,e,n){var a=t.clone();while(a.size()[0]<n)a=A.concat(a,t,e);return a},myStd:function(t,e){var n=e||0;if(0===n){for(var a=t.size()[0],r=t.size()[1],i=[],o=0;o<r;o++){var s=A.subset(t,A.index(A.range(0,a),o)),l=A.std(s);i.push(l)}return A.matrix(i)}},handleDenIs0InScaling:function(t,e){var n=null;if(A.forEach(e,function(t,e){0==e[0]&&0==t&&(n=e)}),null!=n){var a=n[1],r=A.subset(t,A.index(A.range(0,t.size()[0]),a),A.ones(t.size()[0],1));return r}return t},scaling:function(t,e){var n,a=e||1;if(1===a){var r=A.min(t,0),i=A.reshape(r,[1,r.size()[0]]),o=A.max(t,0),s=A.reshape(o,[1,o.size()[0]]),l=this.extendArr(i,0,t.size()[0]),u=this.extendArr(s,0,t.size()[0]),c=A.subtract(t,l),p=A.subtract(u,l);return n=A.dotDivide(c,p),n=this.handleDenIs0InScaling(n,p),this.inputXScaleMinVec=r,this.inputXScaleMaxVec=o,n}var d=A.mean(t,0),h=this.myStd(t,0),f=A.reshape(d,[1,d.size()[0]]),v=A.reshape(h,[1,h.size()[0]]),y=this.extendArr(f,0,t.size()[0]),m=this.extendArr(v,0,t.size()[0]),g=A.subtract(t,y);return n=A.dotDivide(g,m),n=this.handleDenIs0InScaling(n,m),this.inputXScaleMeanVec=d,this.inputXScaleStdVec=h,n},sigmoid:function(t){var e=1,n=A.dotPow(Math.E,A.multiply(-1,t)),a=A.add(1,n),r=A.dotDivide(e,a);return r},labelOfType:function(t){switch(t){case"A":return[0];case"B":return[1];case"C":return[2];case"D":return[3];case"E":return[4];case"F":return[5];case"G":return[6];case"H":return[7];case"I":return[8];case"J":return[9];default:return null}},canvas2MLmat:function(t){var e=this,n=new Array,a=new Array;t.forEach(function(t){var r=t.pos,i=t.type;n.push(r),a.push(e.labelOfType(i))});var r=A.concat(A.ones(n.length,1),n),i=A.matrix(a);return{X:r,Y:i}}},R.prototype)I.prototype[W]=R.prototype[W];I.prototype.modelTrainCV=function(t,e,n){var a=this.inputX,r=this.inputY;this.stepSize=t||.01,this.stepTotal=e||5001,this.isLogW=n||!1;var i=A.ones(a.size()[1],1),o=A.transpose(a);this.logWval=[i.valueOf()];for(var s=0;s<this.stepTotal;s++){var l=A.multiply(a,i),u=this.sigmoid(l),c=A.subtract(u,r),p=A.multiply(o,c);i=A.subtract(i,A.multiply(this.stepSize,p)),this.isLogW&&this.logWval.push(i.valueOf())}return this.optW=i,this.optWval=i.valueOf(),this.optWdetails=this.calcWdetails(this.optWval),this},I.prototype.modelTest=function(){return this},I.prototype.getOptWval=function(){return this.optWval},I.prototype.getOptWdetails=function(){return this.optWdetails},I.prototype.calcWdetails=function(t){var e=t[0][0],n=t[1][0],a=t[2][0],r=-n/a,i=-e/a,o=-e/n;return{w0:e,w1:n,w2:a,coefficientOfX1:r,x2Intercept:i,x1Intercept:o}};var z=O,E=_()(window.innerWidth/3*2),M=_()(window.innerHeight/3*2),L=Math.min(E,M),j=L;console.log("width:",L),console.log("height:",j);var D={name:"demo",data:function(){return{drawInterval:10,width:L,height:j,statusAdd:!0,currentColor:"#fb5a52",showWidthStore:["2px","0px","0px","0px","0px","0px","0px","0px","0px","0px"],colorTypeStore:["#fb5a52","#32b900","#ffcc00","#0003a2","#b900b3","#cc5067","#c0e700","#1adccc","#a48176","#313e41"],listPointsPosType:[],pointRadius:3,layer:null,stage:null,colorTypeArr:[0],currentAlg:"LogReg"}},methods:{initListPoints:function(){this.listPointsPosType.push({pos:[62,261],color:"#fb5a52",type:"A"},{pos:[87,196],color:"#fb5a52",type:"A"},{pos:[118,145],color:"#fb5a52",type:"A"},{pos:[141,196],color:"#fb5a52",type:"A"},{pos:[155,261],color:"#fb5a52",type:"A"},{pos:[266,145],color:"#32b900",type:"B"},{pos:[266,196],color:"#32b900",type:"B"},{pos:[266,261],color:"#32b900",type:"B"})},saveListInStorage:function(){sessionStorage.setItem("listPoints",x()(this.listPointsPosType))},loadListFromStorage:function(){var t=sessionStorage.getItem("listPoints")||"[]";this.listPointsPosType=JSON.parse(t)},clearStorage:function(){sessionStorage.clear()},handleRun:function(){this.LogRegDrawColorArea()},LogRegDrawColorArea:function(){for(var t=new z.LogReg,e=t.inputTrainRaw(this.listPointsPosType).inputCS2Mat().featureScaling().modelTrainCV(.002,5e3,!1),n=e.optW,a=e.inputXScaleMinVec.valueOf(),r=e.inputXScaleMaxVec.valueOf(),i=0;i<this.width;i+=this.drawInterval)for(var o=0;o<this.height;o+=this.drawInterval){var s=(i-a[0][1])/(r[0][1]-a[0][1]),l=(o-a[0][2])/(r[0][2]-a[0][2]),u=P["matrix"]([[1,s,l]]),c=P["multiply"](u,n).valueOf()[0][0];c<.5?this.drawRect4OnePoint(this.layer,i,o,"#fb5a52"):this.drawRect4OnePoint(this.layer,i,o,"#32b900")}this.layer.draw()},drawRect4OnePoint:function(t,e,n,a){var r=new T.a.Rect({x:e,y:n,width:this.drawInterval,height:this.drawInterval,fill:a,opacity:.35});r.cache(),t.add(r)},showAllDataInfo:function(){console.log("当前使用的算法：",this.currentAlg),console.log("所有点数据: ",this.listPointsPosType)},changeColorType:function(t){this.currentColor=this.colorTypeStore[t],this.drawStageBorder(),this.showWidthStore=["0px","0px","0px","0px","0px","0px","0px","0px","0px","0px"],this.showWidthStore[t]="2px"},numOfClass:function(t){switch(t){case"LogReg":return 2;default:return 10}},addColorType:function(){this.colorTypeArr.length<this.numOfClass(this.currentAlg)&&this.colorTypeArr.push(1)},delColorType:function(t){this.colorTypeArr.length>=2&&this.colorTypeArr.splice(t,1)},clearStage:function(t,e){var n=new T.a.Rect({x:0,y:0,width:t.width(),height:t.height(),fill:"white",stroke:this.currentColor});e.add(n),e.draw()},drawPointsFromList:function(t,e){var n,a=this;e.forEach(function(e){n=new T.a.Circle({x:e.pos[0],y:e.pos[1],radius:a.pointRadius,fill:e.color}),n.cache(),t.add(n)}),t.draw()},handleClearAll:function(){this.listPointsPosType=[],this.clearStage(this.stage,this.layer),this.clearStorage()},typeOfColor:function(t){switch(t){case this.colorTypeStore[0]:return"A";case this.colorTypeStore[1]:return"B";case this.colorTypeStore[2]:return"C";case this.colorTypeStore[3]:return"D";case this.colorTypeStore[4]:return"E";case this.colorTypeStore[5]:return"F";case this.colorTypeStore[6]:return"G";case this.colorTypeStore[7]:return"H";case this.colorTypeStore[8]:return"I";case this.colorTypeStore[9]:return"J";default:return""}},stageOnEvent:function(t,e){var n=this;this.stage.on(t,function(){var t=n.stage.getPointerPosition(),a=Math.round(t.x),r=Math.round(t.y);if(console.log(a,r),n.statusAdd){var i=n.typeOfColor(n.currentColor);n.listPointsPosType.push({pos:[a,r],color:n.currentColor,type:i})}else n.listPointsPosType.forEach(function(t,i){var o=Math.sqrt(Math.pow(t.pos[0]-a,2)+Math.pow(t.pos[1]-r,2));o<e&&n.listPointsPosType.splice(i,1)});n.clearStage(n.stage,n.layer),n.drawPointsFromList(n.layer,n.listPointsPosType),n.drawStageBorder(),n.saveListInStorage()})},drawStageBorder:function(){var t=new T.a.Rect({x:0,y:0,width:this.width,height:this.height,stroke:"#fff",strokeWidth:5}),e=new T.a.Rect({x:0,y:0,width:this.width,height:this.height,stroke:this.currentColor});this.layer.add(t,e),this.layer.draw()},newCanvas:function(){this.stage=new T.a.Stage({container:"container",width:this.width,height:this.height}),this.layer=new T.a.Layer,this.stage.add(this.layer),this.drawStageBorder(),this.stageOnEvent("mousedown",this.pointRadius),this.stageOnEvent("touchstart",3*this.pointRadius),this.drawPointsFromList(this.layer,this.listPointsPosType)}},created:function(){},mounted:function(){console.log("mounted..."),this.loadListFromStorage(),this.initListPoints(),this.newCanvas()}},k=D,B=(n("f993"),n("c1db"),Object(l["a"])(k,g,w,!1,null,"87a49774",null));B.options.__file="Demo.vue";var X=B.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tutorial"},[t._v("\n  \n    针对对象：\n        初识机器学习算法，欲深入了解算法原理的人群。\n    所需基础：\n        高等数学、线性代数、概率论。\n        Python 或 Javascirpt\n    讲解方式：\n        以视频为主，轻松有趣。\n\n  \n    \n")])},$=[],F={name:"tutorial",data:function(){return{}}},J=F,H=Object(l["a"])(J,V,$,!1,null,"1477f399",null);H.options.__file="Tutorial.vue";var Y=H.exports,G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"application"},[t._v("\n  \n    平台助您实现轻松数据挖掘，将您手里的数据点石成金。\n\n    涵盖：数据挖掘、图像处理\n  \n    \n")])},q=[],N={name:"application",data:function(){return{}}},K=N,Q=Object(l["a"])(K,G,q,!1,null,"8475758a",null);Q.options.__file="Application.vue";var U=Q.exports,Z=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},tt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about"},[n("h1",[t._v("This is an about page")])])}],et={name:"about",data:function(){return{}}},nt=et,at=Object(l["a"])(nt,Z,tt,!1,null,"7dce6d86",null);at.options.__file="About.vue";var rt=at.exports;a["default"].use(p["a"]);var it=new p["a"]({routes:[{path:"/",name:"home",component:m},{path:"/demo",name:"demo",component:X},{path:"/tutorial",name:"tutorial",component:Y},{path:"/application",name:"applicatioin",component:U},{path:"/about",name:"about",component:rt}]}),ot=n("2f62");a["default"].use(ot["a"]);var st=new ot["a"].Store({state:{},mutations:{},actions:{}}),lt=n("7f16"),ut=n.n(lt),ct=n("5c96"),pt=n.n(ct);n("0fae"),n("e05f");a["default"].use(pt.a,{zIndex:3e3}),a["default"].use(ut.a),a["default"].use(T.a),a["default"].config.productionTip=!1,new a["default"]({router:it,store:st,render:function(t){return t(c)}}).$mount("#app")},"754a":function(t,e,n){"use strict";var a=n("ae4e"),r=n.n(a);r.a},"81f6":function(t,e,n){},ae4e:function(t,e,n){},b0a0:function(t,e,n){"use strict";var a=n("07bb"),r=n.n(a);r.a},c1db:function(t,e,n){"use strict";var a=n("cf94"),r=n.n(a);r.a},cf94:function(t,e,n){},f993:function(t,e,n){"use strict";var a=n("405f"),r=n.n(a);r.a}});
//# sourceMappingURL=app.772f4115.js.map